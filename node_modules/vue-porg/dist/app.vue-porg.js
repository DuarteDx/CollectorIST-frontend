!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-porg"]=e():t["vue-porg"]=e()}(window,function(){return function(t){function e(e){for(var n,r,a=e[0],s=e[1],i=0,u=[];i<a.length;i++)r=a[i],o[r]&&u.push(o[r][0]),o[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);u.length;)u.shift()()}var n={},r={1:0},o={1:0};function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(t){var e=[];r[t]?e.push(r[t]):0!==r[t]&&{0:1}[t]&&e.push(r[t]=new Promise(function(e,n){for(var r=({0:"tasksource"}[t]||t)+".vue-porg.css",o=a.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=(p=s[i]).getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(u===r||u===o))return e()}var c=document.getElementsByTagName("style");for(i=0;i<c.length;i++){var p;if((u=(p=c[i]).getAttribute("data-href"))===r||u===o)return e()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=e,l.onerror=function(e){var r=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.request=r,n(a)},l.href=o,document.getElementsByTagName("head")[0].appendChild(l)}).then(function(){r[t]=0}));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise(function(e,r){n=o[t]=[e,r]});e.push(n[2]=s);var i=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=function(t){return a.p+""+({0:"tasksource"}[t]||t)+".vue-porg.js"}(t);var c=setTimeout(function(){p({type:"timeout",target:u})},12e4);function p(e){u.onerror=u.onload=null,clearTimeout(c);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");s.type=r,s.request=a,n[1](s)}o[t]=void 0}}u.onerror=u.onload=p,i.appendChild(u)}return Promise.all(e)},a.m=t,a.c=n,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a.oe=function(t){throw console.error(t),t};var s=window.webpackJsonpvue_porg=window.webpackJsonpvue_porg||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=i;return a(a.s=13)}([function(t,e,n){"use strict";n.d(e,"j",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"n",function(){return i}),n.d(e,"i",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"k",function(){return p}),n.d(e,"h",function(){return l}),n.d(e,"l",function(){return d}),n.d(e,"d",function(){return f}),n.d(e,"f",function(){return v}),n.d(e,"e",function(){return _}),n.d(e,"b",function(){return m}),n.d(e,"m",function(){return h}),n.d(e,"c",function(){return g});function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}var o=void 0,a=function(t){o=t},s=function(){var t=r(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("/u2f-registration");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}(),i=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,r=e.code;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/totp-challenge",{code:r});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=r(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/totp-registration");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,r=e.code;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/totp-confirmation",{code:r});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=r(regeneratorRuntime.mark(function t(e){var n=e.payload,r=e.router;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/u2f-registration",n);case 2:r&&(r.app.$route.query.callback?window.location.href=window.location.origin+decodeURIComponent(r.app.$route.query.callback):window.location.href=window.location.origin);case 3:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=r(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("/u2f-sign-challenge");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}(),d=function(){var t=r(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/u2f-sign-challenge",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=r(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("tasks");case 2:return e=t.sent,t.abrupt("return",e.data.tasks);case 4:case"end":return t.stop()}},t,void 0)}));return function(){return t.apply(this,arguments)}}(),v=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,r=e.status;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("tasks-instances?status="+r);case 2:return n=t.sent,t.abrupt("return",n.data.tasks);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,r=e.id;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("tasks-instances/"+r);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,r=e.id,a=e.input;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("tasks/"+r+"/instances",{input:a});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,r=e.id,a=e.killswitch,s=e.executionTimeLimit;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.put("tasks/"+r+"/instances",{killswitch:a,executionTimeLimit:s});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,r=e.src;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("tasks",{src:r});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,i){var u,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):o&&(u=i?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var p=c.render;c.render=function(t,e){return u.call(e),p(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);!function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(12)),e.default=r},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o="undefined"!=typeof navigator&&!!navigator.userAgent,a=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),s=o&&navigator.userAgent.match(/Edge\/1[2345]/),i=null;function u(){if(i)return i;var t=new Promise(function(t,e){function n(){t({u2f:null})}return o?a?n():void 0!==window.u2f&&"function"==typeof window.u2f.sign?t({u2f:window.u2f}):s?n():"http:"===location.protocol?n():"undefined"==typeof MessageChannel?n():void r.isSupported(function(e){e?t({u2f:r}):n()}):n()}).then(function(e){return i=e.u2f?t:null,e});return t}function c(t,n){var r=null!=n?n.errorCode:1,o=e.ErrorNames[""+r],a=new Error(t);return a.metaData={type:o,code:r},a}function p(t){if(!t.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}e.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},e.ErrorNames={0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},e.isSupported=function(){return u().then(function(t){return!!t.u2f})},e.ensureSupport=function(){return u().then(p)},e.register=function(t,e,n){return Array.isArray(t)||(t=[t]),"number"==typeof e&&void 0===n&&(n=e,e=null),e||(e=[]),u().then(function(r){p(r);var o=r.u2f;return new Promise(function(r,a){var s=t[0].appId;o.register(s,t,e,function(t){t.errorCode?a(c("Registration failed",t)):(delete t.errorCode,r(t))},n)})})},e.sign=function(t,e){return Array.isArray(t)||(t=[t]),u().then(function(n){p(n);var r=n.u2f;return new Promise(function(n,o){var a=t[0].appId,s=t[0].challenge;r.sign(a,s,t,function(t){t.errorCode?o(c("Sign failed",t)):(delete t.errorCode,n(t))},e)})})}},function(t,e,n){"use strict";n.r(e);var r=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};r._withStripped=!0;var o={},a=(n(32),n(1)),s=Object(a.a)(o,r,[],!1,null,"005bfc5a",null);s.options.__file="src/components/Layout.vue";var i=s.exports,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth vue-porg__utwofchallenge"},[n("div",{staticClass:"vue-porg__card"},[t._v("\n    "+t._s(t.errorType)+"\n    "),t.isSuportedBrowser?[t.completeU2f||t.errorType?["DEVICE_INELIGIBLE"===t.errorType?[n("p",[t._v("wrong u2fkey")])]:"TIMEOUT"===t.errorType?[n("p",[t._v("TIMEDOUT")]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-block btn-sm",on:{click:function(e){t.restart()}}},[t._v("\n            Try again\n          ")])]:t.errorType?[n("p",[t._v("error "+t._s(t.errorType))])]:[t._m(1),t._v(" "),n("div",{staticClass:"icons-wrap"},[n("div",{staticClass:"icons-animation"},[n("svg",{staticClass:"explosion",attrs:{width:"90",height:"102",viewBox:"0 0 90 102",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{transform:"translate(1 1)",stroke:"#009DE0",fill:"none","fill-rule":"evenodd"}},[n("circle",{attrs:{"stroke-width":"10",cx:"44",cy:"50",r:"27"}}),t._v(" "),n("path",{staticClass:"check",attrs:{"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",d:"M33 50.578l8.911 9.542L55 39"}}),t._v(" "),n("path",{attrs:{d:"M44 0v40m43.301-15l-34.64 20M87.3 75L52.66 55M44 100V60M.699 75l34.64-20M.7 25l34.64 20","stroke-width":"2","stroke-linecap":"round"}})])])])]),t._v(" "),t._m(2)]]:[t._m(0),t._v(" "),n("section",{staticClass:"vue-porg__card-intro"},[n("h2",[t._v("Sign in with your U2F key")]),t._v(" "),n("p",[t._v("Insira a sua U2FKey para iniciar a sessão de administração")]),t._v(" "),n("router-link",{attrs:{to:{name:"TOTPChallenge",query:t.$route.query}}},[t._v("Login with TOTPChallenge")])],1)]]:[n("p",[t._v(t._s(t.isSuportedBrowser))]),t._v(" "),n("p",[t._v("Your browser doesn't support u2f")])]],2)])};u._withStripped=!0;var c=n(2),p=n(0);var l={isSuportedBrowser:!0,username:null,completeU2f:!1,errorType:void 0},d={name:"U2FChallenge",props:{callback:{type:String,required:!0},setJwtWith2FA:{type:Function,required:!0},timeToWait:{type:Number,required:!0}},data:function(){return l},mounted:function(){this.restart()},methods:{restart:function(){var t=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}(regeneratorRuntime.mark(function e(){var n,r,o,a,s,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.errorType=void 0,n=t.setJwtWith2FA,r=t.timeToWait,o=t.$router,e.next=6,Object(c.isSupported)();case 6:return a=e.sent,t.isSuportedBrowser=a,e.prev=8,e.next=11,Object(c.ensureSupport)();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(8),console.log(e.t0),t.isSuportedBrowser=!1;case 17:return e.prev=17,e.next=20,Object(p.h)();case 20:return s=e.sent,e.next=23,Object(c.sign)(s);case 23:return i=e.sent,e.next=26,Object(p.l)(i);case 26:u=e.sent,t.completeU2f=!0,setTimeout(function(){n({router:o,jwt:u})},r),e.next=36;break;case 31:e.prev=31,e.t1=e.catch(17),t.errorType=e.t1.metaData.type,console.log(e.t1),console.log(JSON.stringify(e.t1.metaData));case 36:case"end":return e.stop()}},e,t,[[8,13],[17,31]])}))()}}},f=(n(29),Object(a.a)(d,u,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"reading-key"}},[e("div",{attrs:{id:"key"}},[e("span"),e("span")]),this._v(" "),e("div",{attrs:{id:"reading-animation"}},[e("span")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"authenticated",attrs:{id:"reading-key"}},[e("div",{attrs:{id:"key"}},[e("span"),e("span")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"vue-porg__card-intro"},[e("h2",[this._v("Authenticated!")]),this._v(" "),e("p",[this._v("Your U2FKey was validated.")])])}],!1,null,"83debfec",null));f.options.__file="src/components/U2FChallenge.vue";var v=f.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth vue-porg__utwofchallenge"},[n("div",{staticClass:"vue-porg__card "},[t.isSuportedBrowser?[t.completeU2f?t.completeU2f?[t._v("\n        Success registration\n      ")]:t._e():[t._m(0),t._v(" "),n("section",{staticClass:"actions vue-porg__card-intro"},[n("h2",[t._v("Register your Yubikey")]),t._v(" "),n("p",[t._v("Insira a sua YubiKey para a registar")]),t._v(" "),n("router-link",{attrs:{to:{name:"TOTPRegister",query:t.$route.query}}},[t._v("Register TOTP")])],1)]]:[t._v("\n      Your browser doesn't support u2f\n    ")]],2)])};_._withStripped=!0;var m={name:"U2FRegister",data:function(){return{isSuportedBrowser:!1,registrationChallenge:null,completeU2f:!1}},mounted:function(){var t=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}(regeneratorRuntime.mark(function e(){var n,r,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$router,e.next=3,Object(c.isSupported)();case 3:return r=e.sent,t.isSuportedBrowser=r,e.prev=5,e.next=8,Object(c.ensureSupport)();case 8:return e.next=10,Object(p.g)();case 10:return o=e.sent,a=void 0,e.prev=12,e.next=15,Object(c.register)(o);case 15:return a=e.sent,e.next=18,Object(p.k)({payload:a,router:n});case 18:t.completeU2f=!0,e.next=26;break;case 21:e.prev=21,e.t0=e.catch(12),alert(JSON.stringify(e.t0)),s=e.t0,console.log(s);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(5),t.isSuportedBrowser=!1;case 31:case"end":return e.stop()}},e,t,[[5,28],[12,21]])}))()}},h=(n(27),Object(a.a)(m,_,[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"illustration"},[e("div",{attrs:{id:"reading-key"}},[e("div",{attrs:{id:"key"}},[e("span"),e("span")]),this._v(" "),e("div",{attrs:{id:"reading-animation"}},[e("span")])])])}],!1,null,"06a52168",null));h.options.__file="src/components/U2FRegister.vue";var g=h.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth vue-porg__totp-challenge"},[n("div",{staticClass:"vue-porg__card"},[n("header",[n("svg",{attrs:{id:"tecnico-logo",width:"227",height:"53",viewBox:"0 0 227 53",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("defs",[n("path",{attrs:{id:"a",d:"M0 .26669872h43.3509196V52.9796154H0z"}})]),n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("g",[n("mask",{attrs:{id:"b",fill:"#fff"}},[n("use",{attrs:{"xlink:href":"#a"}})]),n("path",{attrs:{d:"M33.2153021 16.9168526h-1.8051905v13.6481795h-3.9069673V16.9168526h-1.8011369v-2.7373141h7.5132947v2.7373141zm-9.6218274-7.08263465l-.001689 25.08394875c0 3.2513461-2.6192827 4.9347756-5.8496414 4.9347756-3.2300208 0-5.8722738-1.4208077-5.8722738-4.1812244h.003378c0-1.0834423.8738825-1.9626987 1.9504435-1.9626987 1.076561 0 1.9497678.8792564 1.9497678 1.9626987h.001689c0 2.004827.1591027 3.3651603 1.9669955 3.3651603 1.9436875 0 1.9436875-1.3664487 1.9436875-4.1187115l.001689-25.08394875c0-3.24862821 2.6182694-4.93341667 5.8493036-4.93341667 3.2300208 0 5.8722738 1.41910898 5.8722738 4.18088462h-.0030402c0 1.0834423-.8732068 1.9620192-1.9514568 1.9620192-1.0762232 0-1.9490923-.8785769-1.9490923-1.9620192h-.0023646c0-2.00448718-.1580892-3.36482052-1.9663199-3.36482052-1.9443631 0-1.9433497 1.36407052-1.9433497 4.11735257zm-11.717186 4.34532055h3.8948065l.0057426 16.375641h-3.9046027l.0040536-16.375641zM0 .26669872V22.3979359C0 42.3252564 21.6349241 53 21.6349241 53s21.7159955-10.6747436 21.7159955-30.6020641V.26669872H0z",fill:"#00A3DA",mask:"url(#b)"}})]),n("path",{attrs:{fill:"#3B464B",d:"M62.999256 16.9535449h-4.6092486v-2.7240641h12.3400849v2.7240641h-4.608573v13.6226987H62.999256V16.9535449M76.2814583 11.5050769c1.1643884-.7121025 2.3041176-1.4235256 3.2955536-2.18455126l1.1643884 1.81592946c-1.1147321.8102885-2.0318527 1.3501411-3.369869 2.0374423l-1.090073-1.6688205zm-3.4445223 2.7244039h10.1092694v2.7240641h-6.9873438v3.9525769h6.442814v2.7240641h-6.442814v4.2230128h6.9873438v2.7230449H72.836936V14.2294808zM85.4256399 18.7215705c0-2.9951795 1.75925-4.7373846 5.8722738-4.7373846 1.5366414 0 3.1226012.196032 4.4859524.540532l-.3469182 2.6754808c-1.3383541-.2466538-2.8993169-.4175449-4.0397217-.4175449-2.1551488 0-2.8493229.7358847-2.8493229 2.4787693v6.2842372c0 1.7422051.6941741 2.4780897 2.8493229 2.4780897 1.1404048 0 2.7013676-.1705513 4.0397217-.4175449l.3469182 2.6754808c-1.3633512.3445-2.949311.5408718-4.4859524.5408718-4.1130238 0-5.8722738-1.7432244-5.8722738-4.7380641v-7.3629231M101.433193 18.1813782v12.3948654h-3.0476097V14.2294808h4.1626797l6.269186 12.4196666V14.2294808h3.047948v16.3467628h-4.163018l-6.269186-12.3948654M115.335254 30.5765833h3.122264V14.2294808h-3.122264zM121.555798 18.7215705c0-2.9951795 1.759587-4.7373846 5.872273-4.7373846 1.536304 0 3.122602.196032 4.485953.540532l-.347256 2.6754808c-1.338017-.2466538-2.898979-.4175449-4.039384-.4175449-2.155149 0-2.849661.7358847-2.849661 2.4787693v6.2842372c0 1.7422051.694512 2.4780897 2.849661 2.4780897 1.140405 0 2.701367-.1705513 4.039384-.4175449l.347256 2.6754808c-1.363351.3445-2.949649.5408718-4.485953.5408718-4.112686 0-5.872273-1.7432244-5.872273-4.7380641v-7.3629231M136.894174 25.6180256c0 1.5468526.793487 2.479109 3.121926 2.479109 2.32979 0 3.122263-.9322564 3.122263-2.479109V19.187359c0-1.5458334-.792473-2.4787693-3.122263-2.4787693-2.328439 0-3.121926.9329359-3.121926 2.4787693v6.4306666zm9.366115.17225c0 2.7244039-1.585622 5.0322821-6.244189 5.0322821-4.658567 0-6.244189-2.3078782-6.244189-5.0322821v-6.7741474c0-2.7250833 1.585622-5.0319423 6.244189-5.0319423 4.658567 0 6.244189 2.306859 6.244189 5.0319423v6.7741474zM156.148638 29.2757051h7.433575v1.3005385h-8.895225V14.2294808h1.46165v15.0462243M166.903777 30.5765833h1.461988V14.2294808h-1.461988zM177.088375 30.8225577c-1.437329 0-3.246235-.2463141-4.658567-.7861667l.272941-1.1785705c1.486309.4423462 2.997953.6635192 4.43562.6635192 2.824326 0 3.592478-.83475 3.592478-2.9207756 0-2.5283718-.02466-2.7984679-3.69179-3.6335577-3.990404-.9071154-4.435621-1.6198974-4.435621-4.9079359 0-2.6761602.99076-4.0748846 5.128781-4.0748846 1.437667 0 3.147598.2452949 4.262668.5643141l-.173628 1.2278333c-1.214382-.2700961-2.750686-.4905897-4.039383-.4905897-3.270219 0-3.71645.7848077-3.71645 2.8215705 0 2.6510192.074316 2.7740064 3.543497 3.633218 4.336308 1.0803846 4.584252 1.693282 4.584252 4.7866474 0 2.675141-.917459 4.2953782-5.104798 4.2953782M194.929832 25.1518974c0-1.3742628-.817133-2.3071987-2.725351-2.3071987h-4.608911v6.455468h5.029469c1.561976 0 2.304793-.7603462 2.304793-2.0622436v-2.0860257zm-.520546-7.9031153c0-1.128968-.643843-1.7425449-2.055837-1.7425449h-4.757879v6.0630641h4.261655c1.808906 0 2.552061-.9332757 2.552061-2.2344936v-2.0860256zm-8.275704 13.3274615V14.2294808h6.194533c2.229802 0 3.543159 1.0562628 3.543159 3.2149936v1.9643974c0 1.3001987-.544868 2.1604295-1.882884 2.6510192 1.288698.1712308 2.403768 1.2274936 2.403768 3.0434231v2.134609c0 2.2589551-1.660276 3.3383205-3.791441 3.3383205h-6.467135zM209.550051 25.9125833V18.893141c0-2.332-1.139392-3.6073974-4.311649-3.6073974-3.17192 0-4.311311 1.2753974-4.311311 3.6073974v7.0194423c0 2.3326795 1.139391 3.6087564 4.311311 3.6087564 3.172257 0 4.311649-1.2760769 4.311649-3.6087564zm-4.311649 4.9099744c-4.236658 0-5.773299-2.0622436-5.773299-4.8600321v-7.1186474c0-2.7984679 1.536641-4.8596923 5.773299-4.8596923 4.238009 0 5.774312 2.0612244 5.774312 4.8596923v7.1186474c0 2.7977885-1.536303 4.8600321-5.774312 4.8600321zM216.761354 25.0295897h6.789732l-3.394866-9.9660384-3.394866 9.9660384zm7.235963 1.2519552h-7.681518l-1.536641 4.2946987h-1.437667l5.749316-16.3467628h2.155486l5.749316 16.3467628h-1.437329l-1.560963-4.2946987z"}})])]),t._v(" "),n("h2",{attrs:{id:"site-logo"}},[t._v("TOTP Challenge")]),t._v(" "),t._m(0)]),t._v(" "),n("form",[n("div",{staticClass:"vue-porg__input-number"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{id:"number-totpchallenge",type:"number",placeholder:"02394302",min:"0",max:"99999999"},domProps:{value:t.code},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submit(e):null},input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"number-totpchallenge"}},[t._v("Introduzir o código")])]),t._v(" "),n("section",{staticClass:"actions"},[n("button",{staticClass:"vue-porg__btn vue-porg__btn-primary vue-porg__btn-md vue-porg__btn-block",on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("Entrar")]),t._v(" "),n("router-link",{attrs:{to:{name:"U2FChallenge",query:t.$route.query}}},[t._v("Login with U2F")])],1)])])])};k._withStripped=!0;var w={props:{setJwtWith2FA:{type:Function,required:!0},timeToWait:{type:Number,required:!0}},data:function(){return{code:void 0}},methods:{submit:function(){var t=this;return function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}(regeneratorRuntime.mark(function e(){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.timeToWait,r=t.setJwtWith2FA,e.next=4,Object(p.n)({code:t.code});case 4:o=e.sent,setTimeout(function(){r({router:t.$router,jwt:o})},n);case 6:case"end":return e.stop()}},e,t)}))()}}},y=(n(25),Object(a.a)(w,k,[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Para obter o seu código TOTP deverá decarregar a aplicação Google Auth e associar esta aplicação através do QRcode disponível "),e("a",{attrs:{href:""}},[this._v("aqui")]),this._v(".")])}],!1,null,"4c6a93e8",null));y.options.__file="src/components/TOTPChallenge.vue";var T=y.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth vue-porg__totp-register"},[n("div",{staticClass:"vue-porg__card"},[n("header",[n("figure",[t.qrCode?n("img",{staticClass:"register-qr-code",attrs:{src:t.qrCode,alt:""}}):t._e()])]),t._v(" "),n("div",{staticClass:"vue-porg__card-intro"},[n("h2",[t._v("Register your TOTP")]),t._v(" "),n("form",[n("div",{staticClass:"vue-porg__input-number"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{id:"number-totpchallenge",type:"number",placeholder:"02394302",min:"0",max:"99999999"},domProps:{value:t.code},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.confirmTOTP(e):null},input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"number-totpchallenge"}},[t._v("Introduzir o código para confirmar")])]),t._v(" "),n("section",{staticClass:"actions"},[n("button",{staticClass:"vue-porg__btn vue-porg__btn-primary vue-porg__btn-md vue-porg__btn-block",on:{click:function(e){return e.preventDefault(),t.confirmTOTP(e)}}},[t._v("Confirmar")]),t._v(" "),n("router-link",{attrs:{to:{name:"U2FChallenge",query:t.$route.query}}},[t._v("Login with U2F")])],1)])])])])};function R(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}b._withStripped=!0;var E={qrCode:void 0,code:void 0},C={props:{timeToWait:{type:Number,required:!0},setJwtWith2FA:{type:Function,required:!0}},data:function(){return E},mounted:function(){this.getQRCode()},methods:{getQRCode:function(){var t=this;return R(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.i)();case 2:n=e.sent,r=n.qrcode,t.qrCode=r;case 5:case"end":return e.stop()}},e,t)}))()},confirmTOTP:function(){var t=this;return R(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)({code:t.code});case 2:n=e.sent,setTimeout(function(){t.setJwtWith2FA({router:t.$router,jwt:n})},t.timeToWait);case 4:case"end":return e.stop()}},e,t)}))()}}},x=(n(23),Object(a.a)(C,b,[],!1,null,"db90ddec",null));x.options.__file="src/components/TOTPRegister.vue";var S=x.exports,I=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view",{key:this.$route.fullPath})],1)};I._withStripped=!0;var P={},O=(n(21),Object(a.a)(P,I,[],!1,null,null,null));O.options.__file="src/components/PorgAdminDashboard.vue";var U=O.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-porg__task-layout"},[n("div",{staticClass:"action"},[n("router-link",{attrs:{to:{name:"TaskSource"}}},[t._v("Create task")])],1),t._v(" "),n("div",{staticClass:"action"},[n("router-link",{attrs:{to:{name:"TasksInstances"}}},[t._v("List instances task")])],1),t._v(" "),n("h2",[t._v("Defined Tasks:")]),t._v(" "),t._l(t.tasks,function(e){return n("div",{key:e.id,staticClass:"row"},[n("div",{staticStyle:{float:"right"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.defaultInput,expression:"task.defaultInput"}],staticClass:"porg-task-input",attrs:{type:"text",cols:"5",rows:"5"},domProps:{value:e.defaultInput},on:{input:function(n){n.target.composing||t.$set(e,"defaultInput",n.target.value)}}})]),t._v(" "),n("div",[n("b",[t._v(t._s(e.id))])]),t._v(" "),n("div",[t._v(t._s(e.type)+" - "+t._s(e.execution))]),t._v(" "),n("div",[t._v("Version: "+t._s(e.version))]),t._v(" "),n("div",[n("button",{on:{click:function(n){t.createTask({name:e.id,input:e.defaultInput})}}},[t._v("Execute")])])])})],2)};function q(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}A._withStripped=!0;var N={name:"TasksDefined",data:function(){return{tasks:void 0}},mounted:function(){var t=this;return q(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)();case 2:t.tasks=e.sent;case 3:case"end":return e.stop()}},e,t)}))()},methods:{createTask:function(t){var e=this,n=t.name,r=t.input;return q(regeneratorRuntime.mark(function t(){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.b)({id:n,input:r});case 2:o=t.sent,a=o.id,e.$router.push({name:"TaskInstance",params:{id:a}});case 5:case"end":return t.stop()}},t,e)}))()}}},M=(n(19),Object(a.a)(N,A,[],!1,null,"3f66cd4b",null));M.options.__file="src/components/TasksDefined.vue";var F=M.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Instances Tasks")]),t._v(" "),n("ul",{staticClass:"nav nav-tabs"},[n("li",{on:{click:function(e){t.selectStatus("completed")}}},[t._v("Completed")]),t._v(" "),n("li",{on:{click:function(e){t.selectStatus("running")}}},[t._v("Running")]),t._v(" "),n("li",{on:{click:function(e){t.selectStatus("pending")}}},[t._v("Pedding")]),t._v(" "),n("li",{on:{click:function(e){t.selectStatus("aborted")}}},[t._v("Aborted")])]),t._v(" "),t._l(t.tasks,function(e){return n("div",{key:e.id,staticClass:"row",on:{click:function(n){t.selectTask(e.id)}}},[n("div",{staticClass:"col-md-5"},[t._v("Id: "+t._s(e.id))]),t._v(" "),n("div",{staticClass:"col-md-4"},[t._v("Name: "+t._s(e.name))]),t._v(" "),n("div",{staticClass:"col-md-3"},[t._v("Date: "+t._s(t._f("moment")(e.date,"YYYY-MM-DD h:mm")))])])})],2)};function D(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}j._withStripped=!0;var L={name:"TasksInstances",data:function(){return{tasks:void 0,status:void 0}},mounted:function(){var t=this;return D(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.status="running",e.next=3,Object(p.f)({status:t.status});case 3:t.tasks=e.sent;case 4:case"end":return e.stop()}},e,t)}))()},methods:{selectStatus:function(t){var e=this;return D(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.status=t,n.next=3,Object(p.f)({status:e.status});case 3:e.tasks=n.sent;case 4:case"end":return n.stop()}},n,e)}))()},selectTask:function(t){this.$router.push({name:"TaskInstance",params:{id:t}})}}},W=(n(17),Object(a.a)(L,j,[],!1,null,null,null));W.options.__file="src/components/TasksInstances.vue";var $=W.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.task?n("div",[n("div",{staticClass:"container"},[n("h1",[t._v(t._s(t.task.name)+" "),n("span",{staticClass:"porg-instance-id"},[t._v(t._s(t.task.id))]),t._v(" "),"aborted"===t.task.status?n("span",{staticClass:"porg-task-status porg-task-status-aborted"},[t._v("Aborted")]):t._e(),t._v(" "),"running"===t.task.status?n("span",{staticClass:"porg-task-status porg-task-status-running"},[t._v("Running")]):t._e(),t._v(" "),"completed"===t.task.status?n("span",{staticClass:"porg-task-status porg-task-status-completed"},[t._v("Completed")]):t._e(),t._v(" "),"pending"===t.task.status?n("span",{staticClass:"porg-task-status porg-task-status-pending"},[t._v("Pending")]):t._e()]),t._v(" "),t.task.message?n("h2",{staticClass:"porg-error-message"},[t._v(t._s(t.task.message))]):t._e(),t._v(" "),n("div",{staticStyle:{float:"right"}},[n("div",{staticClass:"porg-progress"},[n("div",{staticClass:"porg-progress-green",style:{width:t.task.percentage+"%"}}),t._v(" "),n("span",{staticClass:"porg-percentage"},[t._v(t._s(t.task.percentage)+"%")])]),t._v(" "),"running"===t.task.status?n("button",{staticClass:"porg-button-kill",on:{click:function(e){t.updateTask({killswitch:!0})}}},[t._v("KILL TASK")]):t._e(),t._v(" "),n("button",{staticClass:"porg-button-refresh",on:{click:function(e){t.runAgain()}}},[t._v("Run again")]),t._v(" "),"running"===t.task.status?n("span",[t._v("Running "),n("b",[t._v(t._s(t.runningTime))]),t._v(" minutes")]):t._e(),t._v(" "),"completed"===t.task.status||"aborted"===t.task.status?n("span",[t._v("Runned "),n("b",[t._v(t._s(t.runningTime))]),t._v(" minutes")]):t._e()]),t._v(" "),n("div",{staticClass:"row"},[t._v("\n      Scheduled "),n("b",[t._v(t._s(t.formatDate(t.task.date)))])]),t._v(" "),n("div",{staticClass:"row"},[t._v("\n      Hostname "),n("b",[t._v(t._s(t.task.hostname))]),t._v(" Platform "),n("b",[t._v(t._s(t.task.platform))]),t._v(" Process id "),n("b",[t._v(t._s(t.task.pid))])]),t._v(" "),n("div",{staticClass:"row"},[t._v("Execution time limit in minutes "),n("b",[t._v(t._s(t.task.executionTimeLimit))]),t._v(" "),"running"===t.task.status?n("button",{staticClass:"porg-inc-execution-time-limit",on:{click:function(e){t.updateTask({executionTimeLimit:t.task.executionTimeLimit+1})}}},[t._v("+")]):t._e(),t._v(" "),"running"===t.task.status&&t.task.executionTimeLimit>1?n("button",{staticClass:"porg-inc-execution-time-limit",on:{click:function(e){t.updateTask({executionTimeLimit:t.task.executionTimeLimit-1})}}},[t._v("-")]):t._e()]),t._v(" "),n("div",{staticClass:"row"},[t.task.startDate?n("span",[t._v("Start "),n("b",[t._v(t._s(t.formatDate(t.task.startDate)))])]):t._e(),t._v(" "),t.task.endDate?n("span",[t._v("End "),n("b",[t._v(t._s(t.formatDate(t.task.endDate)))])]):t._e()]),t._v(" "),n("div",{staticClass:"row"},t._l(t.task.locks,function(e,r){return n("span",{key:r,class:{"porg-task-locked-tag":e&&"running"===t.task.status,"porg-task-unlocked-tag":!e||"running"!==t.task.status}},[t._v("\n        "+t._s(r)+"\n      ")])})),t._v(" "),n("div",{staticClass:"row"},[n("code",[t._v("\n        "+t._s(t.task.input)+"\n      ")])]),t._v(" "),n("pre",{staticClass:"porg-logs",domProps:{textContent:t._s(t.task.text)}})])]):t._e()};V._withStripped=!0;function z(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var s=e[o](a),i=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(i).then(function(t){r("next",t)},function(t){r("throw",t)});t(i)}("next")})}}var H={name:"TaskInstance",props:{id:{type:String,required:!0}},data:function(){return{task:void 0,interval:void 0}},computed:{runningTime:function(){var t=this.task.endDate||Date.now();return Math.floor((t-this.task.startDate)/6e4)}},mounted:function(){var t=this;return z(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getTask(),t.interval=setInterval(t.getTask,1e3);case 2:case"end":return e.stop()}},e,t)}))()},beforeDestroy:function(){clearInterval(this.interval)},methods:{formatDate:function(t){var e=new Date(t);return e.getUTCFullYear().toString()+"/"+(e.getUTCMonth()+1).toString()+"/"+e.getUTCDate()+" "+e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()},getTask:function(){var t=this;return z(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.e)({id:t.id});case 2:t.task=e.sent,(n=t.$el.querySelector(".porg-logs")).scrollTop=n.scrollHeight,"completed"!==t.task.status&&"aborted"!==t.task.status||clearInterval(t.interval);case 6:case"end":return e.stop()}},e,t)}))()},updateTask:function(t){var e=this,n=t.killswitch,r=t.executionTimeLimit;return z(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.m)({id:e.id,killswitch:n,executionTimeLimit:r});case 2:case"end":return t.stop()}},t,e)}))()},runAgain:function(){var t=this;return z(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)({id:t.task.name,input:JSON.stringify(t.task.input)});case 2:n=e.sent,r=n.id,t.$router.push({name:"TaskInstance",params:{id:r}});case 5:case"end":return e.stop()}},e,t)}))()}}},B=(n(15),Object(a.a)(H,V,[],!1,null,null,null));B.options.__file="src/components/TaskInstance.vue";var J=B.exports,G=decodeURIComponent,Q=/; */;function Y(t,e){try{return e(t)}catch(e){return t}}var K=function(t){return function(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");for(var n={},r=e||{},o=t.split(Q),a=r.decode||G,s=0;s<o.length;s++){var i=o[s],u=i.indexOf("=");if(!(u<0)){var c=i.substr(0,u).trim(),p=i.substr(++u,i.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),void 0===n[c]&&(n[c]=Y(p,a))}}return n}(document.cookie)[t]},X=function(){return K("P_INFO")?JSON.parse(atob(K("P_INFO"))):null};e.default={install:function(t,e){var r=function(){},o=function(){},a=function(){};if(!e.axios)throw new Error("You must provide an axios client instance!");if(!e.router)throw new Error("You must provide the application vue-router instance!");e.errorHandler&&(r=e.errorHandler),e.notAuthorizedHandlerApi&&(o=e.notAuthorizedHandlerApi),e.notAuthorizedHandlerRoute&&(a=e.notAuthorizedHandlerRoute);var s=e.default2FARegister||"U2FRegister",u=e.default2FAChallenge||"U2FChallenge",c=e.defaultTOTPChallenge||"TOTPChallenge";Object(p.j)(e.axios);var l=e.timeToWait||1e3,d=function(t){var e=t.router;e&&e.app.$route.query.callback&&(window.location.href=window.location.origin+decodeURIComponent(e.app.$route.query.callback))};!function(t){var e=t.axios,n=t.default2FARegister,r=t.default2FAChallenge,o=t.defaultTOTPChallenge,a=t.router,s=t.errorHandler,i=t.notAuthorizedHandlerApi;e.interceptors.response.use(function(t){return t},function(t){if(412===t.response.status&&"requires-two-factor-registration"===t.response.data.key)a.app.$route.name!==n&&(window.history.pushState({},"","/"),a.push({name:n,query:{callback:encodeURIComponent(a.app.$route.fullPath)}}));else if(412===t.response.status&&"requires-u2f-challenge"===t.response.data.key)a.app.$route.name!==r&&(window.history.pushState({},"","/"),a.push({name:r,query:{callback:encodeURIComponent(a.app.$route.fullPath)}}));else if(412===t.response.status&&"requires-totp-challenge"===t.response.data.key)a.app.$route.name!==o&&(window.history.pushState({},"","/"),a.push({name:o,query:{callback:encodeURIComponent(a.app.$route.fullPath)}}));else if(403===t.response.status&&"not-authorized"===t.response.data.key)i();else if(401===t.response.status)window.location.href="/api/v1/authenticate?callbackUrl="+encodeURIComponent(window.location.href);else{if(500!==t.response.status)throw t;s(t.response)}})}({axios:e.axios,default2FARegister:s,default2FAChallenge:u,defaultTOTPChallenge:c,router:e.router,errorHandler:r,notAuthorizedHandlerApi:o}),t.prototype.$auth={leave2FA:function(){window.location.href="/api/v1/logout/2fa"},logout:function(){window.location.href="/api/v1/logout"},isLogged:function(){return null!==X()},isLoggedWith2FA:function(){var t=X();return null!==t&&t.twoFactor}},e.router.addRoutes([{path:"",component:i,children:[{path:"/u2f-register",name:"U2FRegister",component:g,meta:{roles:["admin"]},props:function(t){return{callback:t.query.callback}}},{path:"/u2f-challenge",name:"U2FChallenge",component:v,props:function(t){return{callback:t.query.callback,setJwtWith2FA:d,timeToWait:l}}},{path:"/totp-challenge",name:"TOTPChallenge",component:T,props:function(t){return{setJwtWith2FA:d,timeToWait:l}}},{path:"/totp-register",name:"TOTPRegister",component:S,props:function(t){return{setJwtWith2FA:d,timeToWait:l}}},{path:"/porg-admin",name:"PorgAdminDashboard",component:U,redirect:"/porg-admin/tasks",children:[{path:"tasks",name:"TasksDefined",component:F},{path:"tasks-instances",name:"TasksInstances",component:$},{path:"tasks-instances/:id",name:"TaskInstance",component:J,props:function(t){return{id:t.params.id}}},{path:"tasks-source",name:"TaskSource",component:function(){return n.e(0).then(n.bind(null,36))}}]}]}]),e.router.beforeEach(function(t,e,n){var r=t.matched.filter(function(t){return t.meta["porg-auth"]}).map(function(t){return t.meta["porg-auth"]}),o=r.length>0?r[r.length-1]:null,s=X(),i=o&&o.onFail instanceof Function?o.onFail:a;return o&&(o.twoFactor&&!s.twoFactor||!function(t,e){var n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var i=a.value;if(!e.includes(i))return!1}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return!0}(o.roles,s.roles))?(i(o,s),n(!1)):n()})}}},,function(t,e,n){"use strict";var r=n(3);n.n(r).a},,function(t,e,n){"use strict";var r=n(4);n.n(r).a},,function(t,e,n){"use strict";var r=n(5);n.n(r).a},,function(t,e,n){"use strict";var r=n(6);n.n(r).a},,function(t,e,n){"use strict";var r=n(7);n.n(r).a},,function(t,e,n){"use strict";var r=n(8);n.n(r).a},,function(t,e,n){"use strict";var r=n(9);n.n(r).a},,function(t,e,n){"use strict";var r=n(10);n.n(r).a},function(t,e,n){"use strict";var r,o=o||{};t.exports=o,o.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",o.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_SIGN_RESPONSE:"u2f_sign_response",U2F_GET_API_VERSION_REQUEST:"u2f_get_api_version_request",U2F_GET_API_VERSION_RESPONSE:"u2f_get_api_version_response"},o.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},o.U2fRequest,o.U2fResponse,o.Error,o.Transport,o.Transports,o.SignRequest,o.SignResponse,o.RegisterRequest,o.RegisterResponse,o.RegisteredKey,o.GetJsApiVersionResponse,o.getMessagePort=function(t){if("undefined"!=typeof chrome&&chrome.runtime){var e={type:o.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(o.EXTENSION_ID,e,function(){chrome.runtime.lastError?o.getIframePort_(t):o.getChromeRuntimePort_(t)})}else o.isAndroidChrome_()?o.getAuthenticatorPort_(t):o.isIosChrome_()?o.getIosPort_(t):o.getIframePort_(t)},o.isAndroidChrome_=function(){var t=navigator.userAgent;return-1!=t.indexOf("Chrome")&&-1!=t.indexOf("Android")},o.isIosChrome_=function(){return["iPhone","iPad","iPod"].indexOf(navigator.platform)>-1},o.getChromeRuntimePort_=function(t){var e=chrome.runtime.connect(o.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout(function(){t(new o.WrappedChromeRuntimePort_(e))},0)},o.getAuthenticatorPort_=function(t){setTimeout(function(){t(new o.WrappedAuthenticatorPort_)},0)},o.getIosPort_=function(t){setTimeout(function(){t(new o.WrappedIosPort_)},0)},o.WrappedChromeRuntimePort_=function(t){this.port_=t},o.formatSignRequest_=function(t,e,n,a,s){if(void 0===r||r<1.1){for(var i=[],u=0;u<n.length;u++)i[u]={version:n[u].version,challenge:e,keyHandle:n[u].keyHandle,appId:t};return{type:o.MessageTypes.U2F_SIGN_REQUEST,signRequests:i,timeoutSeconds:a,requestId:s}}return{type:o.MessageTypes.U2F_SIGN_REQUEST,appId:t,challenge:e,registeredKeys:n,timeoutSeconds:a,requestId:s}},o.formatRegisterRequest_=function(t,e,n,a,s){if(void 0===r||r<1.1){for(var i=0;i<n.length;i++)n[i].appId=t;var u=[];for(i=0;i<e.length;i++)u[i]={version:e[i].version,challenge:n[0],keyHandle:e[i].keyHandle,appId:t};return{type:o.MessageTypes.U2F_REGISTER_REQUEST,signRequests:u,registerRequests:n,timeoutSeconds:a,requestId:s}}return{type:o.MessageTypes.U2F_REGISTER_REQUEST,appId:t,registerRequests:n,registeredKeys:e,timeoutSeconds:a,requestId:s}},o.WrappedChromeRuntimePort_.prototype.postMessage=function(t){this.port_.postMessage(t)},o.WrappedChromeRuntimePort_.prototype.addEventListener=function(t,e){var n=t.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener(function(t){e({data:t})}):console.error("WrappedChromeRuntimePort only supports onMessage")},o.WrappedAuthenticatorPort_=function(){this.requestId_=-1,this.requestObject_=null},o.WrappedAuthenticatorPort_.prototype.postMessage=function(t){var e=o.WrappedAuthenticatorPort_.INTENT_URL_BASE_+";S.request="+encodeURIComponent(JSON.stringify(t))+";end";document.location=e},o.WrappedAuthenticatorPort_.prototype.getPortType=function(){return"WrappedAuthenticatorPort_"},o.WrappedAuthenticatorPort_.prototype.addEventListener=function(t,e){if("message"==t.toLowerCase()){window.addEventListener("message",this.onRequestUpdate_.bind(this,e),!1)}else console.error("WrappedAuthenticatorPort only supports message")},o.WrappedAuthenticatorPort_.prototype.onRequestUpdate_=function(t,e){var n=JSON.parse(e.data),r=(n.intentURL,n.errorCode,null);n.hasOwnProperty("data")&&(r=JSON.parse(n.data)),t({data:r})},o.WrappedAuthenticatorPort_.INTENT_URL_BASE_="intent:#Intent;action=com.google.android.apps.authenticator.AUTHENTICATE",o.WrappedIosPort_=function(){},o.WrappedIosPort_.prototype.postMessage=function(t){var e=JSON.stringify(t),n="u2f://auth?"+encodeURI(e);location.replace(n)},o.WrappedIosPort_.prototype.getPortType=function(){return"WrappedIosPort_"},o.WrappedIosPort_.prototype.addEventListener=function(t,e){"message"!==t.toLowerCase()&&console.error("WrappedIosPort only supports message")},o.getIframePort_=function(t){var e="chrome-extension://"+o.EXTENSION_ID,n=document.createElement("iframe");n.src=e+"/u2f-comms.html",n.setAttribute("style","display:none"),document.body.appendChild(n);var r=new MessageChannel,a=function(e){"ready"==e.data?(r.port1.removeEventListener("message",a),t(r.port1)):console.error('First event on iframe port was not "ready"')};r.port1.addEventListener("message",a),r.port1.start(),n.addEventListener("load",function(){n.contentWindow.postMessage("init",e,[r.port2])})},o.EXTENSION_TIMEOUT_SEC=30,o.port_=null,o.waitingForPort_=[],o.reqCounter_=0,o.callbackMap_={},o.getPortSingleton_=function(t){o.port_?t(o.port_):(0==o.waitingForPort_.length&&o.getMessagePort(function(t){for(o.port_=t,o.port_.addEventListener("message",o.responseHandler_);o.waitingForPort_.length;)o.waitingForPort_.shift()(o.port_)}),o.waitingForPort_.push(t))},o.responseHandler_=function(t){var e=t.data,n=e.requestId;if(n&&o.callbackMap_[n]){var r=o.callbackMap_[n];delete o.callbackMap_[n],r(e.responseData)}else console.error("Unknown or missing requestId in response.")},o.isSupported=function(t){var e=!1;function n(n){e||(e=!0,t(n))}o.getApiVersion(function(t){r=void 0===t.js_api_version?0:t.js_api_version,n(!0)}),setTimeout(n.bind(null,!1),1500)},o.sign=function(t,e,n,a,s){void 0===r?o.getApiVersion(function(i){r=void 0===i.js_api_version?0:i.js_api_version,console.log("Extension JS API Version: ",r),o.sendSignRequest(t,e,n,a,s)}):o.sendSignRequest(t,e,n,a,s)},o.sendSignRequest=function(t,e,n,r,a){o.getPortSingleton_(function(s){var i=++o.reqCounter_;o.callbackMap_[i]=r;var u=void 0!==a?a:o.EXTENSION_TIMEOUT_SEC,c=o.formatSignRequest_(t,e,n,u,i);s.postMessage(c)})},o.register=function(t,e,n,a,s){void 0===r?o.getApiVersion(function(i){r=void 0===i.js_api_version?0:i.js_api_version,console.log("Extension JS API Version: ",r),o.sendRegisterRequest(t,e,n,a,s)}):o.sendRegisterRequest(t,e,n,a,s)},o.sendRegisterRequest=function(t,e,n,r,a){o.getPortSingleton_(function(s){var i=++o.reqCounter_;o.callbackMap_[i]=r;var u=void 0!==a?a:o.EXTENSION_TIMEOUT_SEC,c=o.formatRegisterRequest_(t,n,e,u,i);s.postMessage(c)})},o.getApiVersion=function(t,e){o.getPortSingleton_(function(n){if(n.getPortType){var r;switch(n.getPortType()){case"WrappedIosPort_":case"WrappedAuthenticatorPort_":r=1.1;break;default:r=0}t({js_api_version:r})}else{var a=++o.reqCounter_;o.callbackMap_[a]=t;var s={type:o.MessageTypes.U2F_GET_API_VERSION_REQUEST,timeoutSeconds:void 0!==e?e:o.EXTENSION_TIMEOUT_SEC,requestId:a};n.postMessage(s)}})}},,function(t,e,n){"use strict";var r=n(11);n.n(r).a}])});